@use 'mixin';
@use 'general';

@tailwind base;
@tailwind components;

.header {
    #landingPage & {
        background: {
            image: url('../img/header-landing.jpg');
            color: rgba($color: #003a69, $alpha: 0.6);
            blend-mode: overlay;
            attachment: fixed;
            size: cover;
        }
        @apply flex flex-col;
        height: 90vh;
    }
    position: relative;
}

.nav {
    @apply bg-white;

    .container {
        @apply flex flex-col bg-white pt-4;

        @screen sm {
            @apply flex-row bg-transparent pt-0;
        }
    }

    &__ul {
        @apply flex flex-col px-4 flex-grow;
        

        & & {
            padding-left: 1rem;
        }

        @screen sm {
            @apply flex-row;
        }
    }

    &__logo {
        overflow: hidden;
        display: inline-flex;
        max-width: 50%;
        margin-right: auto;

        @screen sm {
            max-width: none;
            margin-right: 0;
        }
    }
    &__img {
        height: 100%;
        overflow: hidden;
    }
    &__icon {
        @apply flex items-center relative;

        #total-shopping {
            @apply absolute transform translate-x-1/2 translate-y-1 text-sm;
            right: calc(45px / 2);

            @screen sm {
                right: 45px;
            }
        }
        &--bag box-icon {
            @include mixin.sameSize(45px);
        }
    }

    &__toggle-menu{
        transform: translateY(4px);

        box-icon {
            @include mixin.sameSize(30px);
        }

        @screen sm {
            display: none;
        }
    }

    &__item {
        display: flex;

        &--first {
            @apply border-b-2 border-gray-200 px-4 pb-4;

            @screen sm {
                width: 20%;
            }
        }

        &--cart {
            width: 50%;
        }

        &--menu {
            @apply flex-col;
            height: 0;
            opacity: 0;
            transition: none; //transition when wanna close nav

            .nav--open & {
                @apply h-auto opacity-100 transition transition-all duration-200;
            }

            @screen sm {
                @apply z-50 opacity-100 h-auto; //z-50 == z-index teratas di tailwind
            }
            
        }

        &-has-child {
            @apply relative;

            & & {
                padding-right: 0;
            }

            .nav__ul {
                @apply overflow-hidden transition transition-all h-0 opacity-0 invisible;
                @screen sm {
                    @apply flex-col absolute;
                    top: 100%;
                    overflow: visible;

                    & & {
                        transition-property: none;
                        @apply transition-all;
                        top: auto;
                        left: calc(100% + 1rem);
                        border-left: 1px solid rgb(218, 218, 218);
                    }
                }
            }

            &--open {

                > .nav__link--open-child {

                    .child-dropdown-icon {
                        @apply transform rotate-180;
                    }
                }

                > .nav__ul {
                    @apply h-auto opacity-100 visible;

                    .nav__link  {
                        justify-content: start;
                    }
                }

            }
        }

    }

    &__link {
        @apply flex py-3;

        @screen sm {
            justify-content: center;
        }
    }

    #open-icon {
        display: initial;
        @include mixin.openNav {
            display: none;
        }
    }
    #close-icon {
        display: none;
        @include mixin.openNav {
            display: initial;
        }
    }
}

/*landing-page style*/
#landingPage {

    .nav .container > .nav__ul > .nav__item > .nav__link {
        color: #fff;
    }

    body:not(&) main {
        @apply bg-gray-100;
    }

    #section-catalog {
        &__promo {
            position: relative;
            background-image: url('../img/special-edition.jpg');
        }
        &__overlay {
            @apply absolute top-0 left-0 h-full w-full;
            opacity: 0.43;
            background-image: linear-gradient(100deg, #000000 0%, rgba(17,107,191,0.39) 100%);
        }
    }
}
/*end of landing-page style*/

/*register style*/
#registerPage {
    header {
        @apply flex flex-col flex-grow;
        background: {
            image: url('../img/static/auth-bg.jpg');
            attachment: fixed;
            size: cover;
        }

        .bg-overlay {
            background-image: linear-gradient(180deg, #000000 0%, #54595f 100%);
            @apply absolute w-full h-full inset-0;
            opacity: 0.5;
        }
    }

    .auth-box {
        @apply p-4 border border-gray-400;
    }
}
/*end of storePage style*/

@tailwind utilities;